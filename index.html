<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ezion UK</title>
  <meta name="description" content="Ezion Ltd â€” quietly building useful ventures." />

  <style>
    :root{
      --bg: #0b0f14;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --hair: rgba(255,255,255,.16);
      --shadow: 0 28px 70px rgba(0,0,0,.55);
      --radius: 22px;
      --max: 980px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow-x: hidden;
    }
    a{ color: inherit; }

    .srOnly{
      position:absolute;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;
      border:0;
    }

    .bg{
      position: fixed;
      inset: 0;
      background:
        linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.20) 45%, rgba(0,0,0,.45)),
        radial-gradient(1200px 820px at 70% 30%, rgba(0,0,0,.8), rgba(0,0,0,.45)),
        url("hero-small.jpg") center/cover no-repeat;
      background:
        linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.20) 45%, rgba(0,0,0,.45)),
        radial-gradient(1200px 820px at 70% 30%, rgba(0,0,0,.8), rgba(0,0,0,.45)),
        image-set(
          url("hero-small.jpg") 1x,
          url("hero.jpg") 2x
        ) center/cover no-repeat;
      transform: scale(1.02);
      filter: saturate(1.05) contrast(1.02);
      z-index: -3;
    }

    .vignette{
      position: fixed;
      inset: 0;
      pointer-events: none;
      background:
        radial-gradient(
          700px 420px at 50% 48%,
          rgba(255,255,255,.14),
          rgba(255,255,255,.06) 35%,
          rgba(0,0,0,0) 65%
        );
      mix-blend-mode: screen;
      opacity: .55;
      z-index: -2;
    }
    .grain{
      position: fixed;
      inset: -40%;
      pointer-events: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.20'/%3E%3C/svg%3E");
      opacity: .10;
      transform: rotate(6deg);
      z-index: -1;
    }

    .wrap{
      min-height: 100%;
      display: grid;
      place-items: center;
      padding: 28px;
    }

    .center{
      text-align: center;
      user-select: none;
      max-width: 70ch;
    }

    .domain{
      font-size: clamp(22px, 2.8vw, 34px);
      letter-spacing: 0.18em;
      text-transform: lowercase;
      font-weight: 520;
      opacity: .94;
      text-align: center;
    }

    .domain img {
      margin: 0 auto;
      width: 43%;
      height: auto;
      display: block;
    }

    .sub{
      margin-top: 5px;
      font-size: 14px;
      letter-spacing: .02em;
      color: rgba(255,255,255,.70);
      line-height: 1.6;
    }

    .footer{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 18px;
      display: flex;
      justify-content: center;
      padding: 0 18px;
      text-align: center;
      font-size: 13px;
      letter-spacing: .02em;
      color: rgba(255,255,255,.70);
      z-index: 5;
    }
    .footer a{
      color: rgba(255,255,255,.92);
      text-decoration: none;
      border-bottom: 1px solid rgba(255,255,255,.16);
      padding-bottom: 1px;
    }
    .footer a:hover{
      border-bottom-color: rgba(255,255,255,.45);
    }

    .actions{
      margin-top: 18px;
      display: inline-flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn{
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.92);
      border-radius: 999px;
      padding: 10px 14px;
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
      cursor: pointer;
      backdrop-filter: blur(12px) saturate(1.15);
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(0,0,0,.26);
      border-color: rgba(255,255,255,.22);
    }
    .btn.secondary{
      background: rgba(255,255,255,.06);
    }

    .lang{
      position: fixed;
      top: 18px;
      right: 18px;
      z-index: 6;
    }
    
    /* row container so buttons sit side-by-side */
    .langRow{
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* shared pill sizing */
    :root{
      --pillH: 44px;     /* tweak if needed */
      --pillPadX: 14px;
    }
    
    .langBtn{
      display: inline-flex;
      align-items: center;
      gap: 10px;
    
      height: var(--pillH);
      padding: 0 var(--pillPadX);   /* IMPORTANT: no vertical padding */
      line-height: 1;
    
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.92);
      border-radius: 999px;
      cursor: pointer;
      backdrop-filter: blur(12px) saturate(1.15);
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
      text-decoration: none;        /* for <a> */
      box-sizing: border-box;
    }
    
    /* Invisible icon spacer for buttons without flag */
    .langBtn .iconSpacer{
      width: 28px;
      height: 28px;
      display: inline-block;
      flex: 0 0 28px;
    }
    
    .langBtn:hover{
      transform: translateY(-1px);
      background: rgba(0,0,0,.26);
      border-color: rgba(255,255,255,.22);
    }
    
    .flag{
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      background: rgba(255,255,255,.08);
      box-shadow: 0 0 0 1px rgba(255,255,255,.14);
      flex: 0 0 28px;
    }
    
    .langText{
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
    }
    
    /* Menu should anchor under the locale pill */
    .langMenu{
      position: absolute;
      top: calc(var(--pillH) + 10px);   /* aligns with row height */
      right: 0;
      min-width: 240px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.30);
      backdrop-filter: blur(14px) saturate(1.15);
      box-shadow: 0 22px 60px rgba(0,0,0,.55);
      padding: 8px;
      display: none;
    }
    
    .lang.open .langMenu{ display: block; }
    
    .langItem{
      width: 100%;
      display: grid;
      grid-template-columns: 36px 1fr auto;
      align-items: center;
      gap: 10px;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid transparent;
      background: transparent;
      color: rgba(255,255,255,.92);
      cursor: pointer;
      text-align: left;
    }
    
    .langItem:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.10);
    }
    
    .langMeta{
      font-size: 12px;
      color: rgba(255,255,255,.60);
      letter-spacing: .02em;
    }
    
    /* Home pill â€” content-sized, same height as lang */
    .homeBtn{
      padding: 0 14px;          /* same horizontal padding as lang */
      gap: 8px;
      min-width: unset;         /* IMPORTANT: remove forced width */
      justify-content: center;
      letter-spacing: .06em;
    }
    
    /* Home does NOT reserve flag space */
    .homeBtn .iconSpacer{
      display: none;
    }
    
    /* Slide-over About panel */
    .panel{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: end center;
      padding: 18px;
      opacity: 0;
      pointer-events: none;
      transition: opacity .20s ease;
      z-index: 10;
    }
    .panel.open{ opacity: 1; pointer-events: auto; }

    .panel-backdrop{
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,.52);
      backdrop-filter: blur(10px) saturate(1.1);
    }

    .sheet{
      position: relative;
      width: min(var(--max), calc(100vw - 36px));
      max-height: min(78vh, 720px);
      overflow: auto;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(20,22,28,.68), rgba(8,10,14,.62));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      padding: 18px;
      transform: translateY(10px);
      transition: transform .20s ease;
    }
    .panel.open .sheet{ transform: translateY(0); }

    .sheet-header{
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      padding: 6px 6px 12px;
      border-bottom: 1px solid rgba(255,255,255,.12);
    }

    .grid{
      display: grid;
      gap: 14px;
      grid-template-columns: 1fr;
      padding: 14px 6px 6px;
    }
    @media (min-width: 920px){
      .grid{ grid-template-columns: 1.2fr .8fr; }
    }
    .card{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      border-radius: 18px;
      padding: 16px;
    }
    .h{
      margin: 0 0 8px;
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(255,255,255,.78);
    }
    .p{
      margin: 0;
      font-size: 14px;
      color: rgba(255,255,255,.74);
      line-height: 1.7;
    }

    /* About panel: Focus block */
    .focusSub{
      margin: 0 0 12px;
      font-size: 14px;
      color: rgba(255,255,255,.70);
      line-height: 1.6;
    }
    .focusList{
      display: grid;
      gap: 10px;
    }
    .focusItem{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 14px;
      background: rgba(0,0,0,.14);
    }
    .focusItem strong{
      display: block;
      font-size: 14px;
      color: rgba(255,255,255,.90);
    }
    .focusItem span{
      display: block;
      margin-top: 6px;
      font-size: 13px;
      color: rgba(255,255,255,.70);
      line-height: 1.6;
    }

    /* Views */
    .view { display: none; }
    .view.active { display: block; }

    /* Panels like Products */
    .products{
      width: min(var(--max), 100%);
      margin: 0 auto;
      text-align: left;
      user-select: text;
    }
    .topbar{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }
    .titleRow{
      display:flex; flex-direction:column; gap:4px;
    }
    .titleRow strong{
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(255,255,255,.78);
    }

    .productsGrid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-top: 10px;
    }
    @media (min-width: 720px){
      .productsGrid{ grid-template-columns: repeat(2, 1fr); }
    }
    .product{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      border-radius: 18px;
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .product .name{
      font-size: 14px;
      font-weight: 650;
      color: rgba(255,255,255,.90);
    }
    .product .desc{
      font-size: 13px;
      color: rgba(255,255,255,.70);
      line-height: 1.6;
    }
    .product .meta{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      margin-top: 4px;
      color: rgba(255,255,255,.78);
      font-size: 13px;
    }
    .product .btnRow{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 4px;
    }

    /* Section headers inside Products page */
    .section{
      margin-top: 30px;
    }
    .sectionHeader{
      margin: 6px 0 10px;
      padding: 0;
      border: none;
      background: none;
    }
    .sectionHeader strong{
      display: block;
      font-size: 11px;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(255,255,255,.55);
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.16);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 999px;
      backdrop-filter: blur(12px) saturate(1.15);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease, transform .2s ease;
      z-index: 20;
    }
    .toast.show{ opacity: 1; transform: translateX(-50%) translateY(-6px); }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="grain" aria-hidden="true"></div>

  <!-- Top-right language/country switch + Home Button-->
  <div class="lang" id="lang">
    <div class="langRow">
      <button class="langBtn" id="langBtn" type="button" aria-haspopup="menu" aria-expanded="false">
        <span class="flag" id="langFlag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
        <span class="langText" id="langText">English</span>
      </button>
  
      <a class="langBtn homeBtn" href="#" id="topHomeBtn" aria-label="Home" style="display:none">
        <span class="iconSpacer" aria-hidden="true"></span>
        <span class="langText" id="topHomeText">Home</span>
      </a>
    </div>
  
    <div class="langMenu" id="langMenu" role="menu" aria-label="Select language and currency">
      <button class="langItem" role="menuitem" type="button" data-locale="uk-en">
        <span class="flag">ğŸ‡¬ğŸ‡§</span><span>English</span><span class="langMeta">GBP Â· UK</span>
      </button>
      <button class="langItem" role="menuitem" type="button" data-locale="us-en">
        <span class="flag">ğŸ‡ºğŸ‡¸</span><span>English</span><span class="langMeta">USD Â· US</span>
      </button>
      <button class="langItem" role="menuitem" type="button" data-locale="sg-en">
        <span class="flag">ğŸ‡¸ğŸ‡¬</span><span>English</span><span class="langMeta">SGD Â· SG</span>
      </button>
      <button class="langItem" role="menuitem" type="button" data-locale="sg-zh">
        <span class="flag">ğŸ‡¸ğŸ‡¬</span><span>ç®€ä¸­</span><span class="langMeta">SGD Â· SG</span>
      </button>
      <button class="langItem" role="menuitem" type="button" data-locale="hk-en">
        <span class="flag">ğŸ‡­ğŸ‡°</span><span>English</span><span class="langMeta">HKD Â· HK</span>
      </button>
      <button class="langItem" role="menuitem" type="button" data-locale="hk-zh">
        <span class="flag">ğŸ‡­ğŸ‡°</span><span>ç¹ä¸­</span><span class="langMeta">HKD Â· HK</span>
      </button>
      <button class="langItem" role="menuitem" type="button" data-locale="cn-zh">
        <span class="flag">ğŸ‡¨ğŸ‡³</span><span>ç®€ä¸­</span><span class="langMeta">CNY Â· CN</span>
      </button>
    </div>
  </div>

  <main class="wrap">
    <!-- HOME VIEW -->
    <section class="center view active" id="view-home" aria-label="Home">
      <h1 class="domain">
        <img src="Ezion_logo_invert.png" alt="Ezion" />
        <span class="srOnly">Ezion UK</span>
      </h1>

      <div class="sub" id="homeSub">
        Quietly building useful ventures.
      </div>

      <div class="sub" id="homeBlurb" style="margin-top:12px;">We build practical products, lightweight software, and operational tools â€” designed to reduce friction and keep working.</div>

      <div class="actions">
        <button class="btn" type="button" id="openInfo" aria-haspopup="dialog" aria-controls="panel" aria-expanded="false">About Us</button>
        <a class="btn" href="#products" aria-label="Open products" id="btnProducts">Products</a>
        <a class="btn" href="#services" aria-label="Open services" id="btnServices">Services</a>
      </div>
    </section>

    <!-- PRODUCTS VIEW -->
    <section class="products view" id="view-products" aria-label="Products">
      <div class="topbar">
        <div class="titleRow">
          <strong id="productsTitle">Products</strong>
        </div>
      </div>

      <div class="section">
        <div class="sectionHeader">
          <strong id="productsSectionTools">Physical and Operational Tools</strong>
        </div>
        <div class="productsGrid" id="productsGridProducts"></div>
      </div>

      <div class="section">
        <div class="sectionHeader">
          <strong id="productsSectionApps">Apps</strong>
        </div>
        <div class="productsGrid" id="productsGridApps"></div>
      </div>

      <div class="section">
        <div class="sectionHeader">
          <strong id="productsSectionProductions">Productions</strong>
        </div>
        <div class="productsGrid" id="productsGridProductions"></div>
      </div>
    </section>

    <!-- SERVICES VIEW -->
    <section class="products view" id="view-services" aria-label="Services">
      <div class="topbar">
        <div class="titleRow">
          <strong id="servicesTitle">Services</strong>
        </div>
      </div>

      <div class="productsGrid" id="servicesGrid"></div>

      <div class="card" style="margin-top:14px;">
        <div class="h" id="servicesNotesTitle">Notes</div>
        <p class="p" id="servicesNotesText">For custom scopes, request a quote on the service page.</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div>
      <a data-contact-email href="#">contact@ezion.uk</a>
    </div>
  </footer>

  <!-- About Us panel -->
  <section class="panel" id="panel" aria-hidden="true">
    <div class="panel-backdrop" id="backdrop" aria-hidden="true"></div>

    <div class="sheet" role="dialog" aria-modal="true" aria-label="About Ezion">
      <div class="sheet-header">
        <div class="sheet-title">
          <div>
            <strong id="aboutTitle">ABOUT US</strong><br/>
          </div>
        </div>
        <button class="btn secondary" type="button" id="closeInfo">Close</button>
      </div>

      <div class="grid">
        <div class="card">
          <p class="p" id="aboutBody">
            Ezion Ltd develops and manages consumer products, digital tools, and operational systems. <br/><br/>
            Small is not less. We prefer small teams, clear processes, and quiet products that have big impacts.
          </p>

          <div class="h" style="margin-top:14px;" id="aboutPrinciplesTitle">Principles</div>
          <div class="focusList">
            <div class="focusItem">
              <strong id="p1Title">Clarity</strong>
              <span id="p1Body">Simple positioning, clean execution, minimal maintenance.</span>
            </div>
            <div class="focusItem">
              <strong id="p2Title">Durability</strong>
              <span id="p2Body">Fewer moving parts. Systems that keep working.</span>
            </div>
            <div class="focusItem">
              <strong id="p3Title">Leverage</strong>
              <span id="p3Body">Repeatable processes and compounding improvements.</span>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="h" id="contactTitle">Contact</div>

          <div style="display:flex; flex-direction:column; gap:10px; padding:12px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.14); margin-top:10px;">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
              <div>
                <div><a data-contact-email href="#" style="text-decoration:none; font-weight:650;">contact@ezion.uk</a></div>
                <div style="font-size:12px; color: rgba(255,255,255,.62); margin-top:2px;" id="contactSub">General enquiries</div>
              </div>
              <button class="btn" type="button" data-copy="contact@ezion.uk" data-copy-email id="copyBtn">Copy</button>
            </div>

            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <a class="btn secondary" data-phone href="#">Call</a>
              <a class="btn secondary" data-whatsapp href="#" style="display:none;">WhatsApp</a>
            </div>
          </div>

          <!-- <div class="h" style="margin-top:14px;" id="companyTitle">Company</div>
          <p class="p" id="companyBlock">
            <strong id="companyLegalLabel">Legal name:</strong>
            <span id="companyLegal"></span><br/>

            <strong id="companyJurisdictionLabel">Jurisdiction:</strong>
            <span id="companyJurisdiction"></span><br/>

            <strong id="companyStatusLabel">Status:</strong>
            <span id="companyStatus"></span>
          </p>

          <p class="p" id="companyReg" style="margin-top:10px; color: rgba(255,255,255,.62);">
            <span id="companyRegLabel"></span>:
            <span id="companyRegValue"></span>
          </p>-->
        </div>

        <div class="card" style="grid-column: 1 / -1;">
          <div class="h" id="focusTitle">Focus</div>
          <p class="focusSub" id="focusSub">A concise snapshot (broad by design).</p>

          <div class="focusList">
            <div class="focusItem">
              <strong id="f1Title">Brand & product incubation</strong>
              <span id="f1Body">From concept to early validation and launch readiness.</span>
            </div>

            <div class="focusItem">
              <strong id="f2Title">Digital tools and internal systems</strong>
              <span id="f2Body">Automation, operations tooling, and lightweight software.</span>
            </div>

            <div class="focusItem">
              <strong id="f3Title">Operations, logistics, and process design</strong>
              <span id="f3Body">Reducing friction and increasing reliability.</span>
            </div>

            <div class="focusItem">
              <strong id="f4Title">Research & development</strong>
              <span id="f4Body">Iterating and testing ideas for consumer applications.</span>
            </div>
          </div>
        </div>

        <div class="card" style="grid-column: 1 / -1; background: rgba(0,0,0,.10);">
          <p class="p" style="margin:0; color: rgba(255,255,255,.60); font-size:13px;">
            Â© <span id="year"></span> Ezion Ltd. All rights reserved.
          </p>
        </div>
      </div>
    </div>
  </section>

  <div class="toast" id="toast" role="status" aria-live="polite">Copied</div>

  <script src="assets/locale.js"></script>
  <script>
  // -----------------------------
  // Text packs (EN / zh-Hans / zh-Hant)
  // -----------------------------
  const I18N = {
    en: {
      locale: "Locale",
      about: "About Us",
      products: "Products",
      services: "Services",
      home: "Home",
      view: "View",
      get: "Get",
      viewService: "View service",
      requestQuote: "Request a quote",
      notes: "Notes",
      servicesNotes: "For custom scopes, request a quote on the service page.",
      homeSub: "Quietly building useful ventures.",
      homeBlurb: "We build practical products, lightweight software, and operational tools â€” designed to reduce friction and keep working.",
      aboutTitle: "ABOUT US",
      aboutBody: "Ezion develops and manages consumer products, digital tools, and operational systems.<br/><br/>Small is not less. We prefer small teams, clear processes, and quiet products that have big impacts.",
      principles: "Principles",
      contact: "Contact",
      contactSub: "General enquiries",
      company: "Company",
      focus: "Focus",
      focusSub: "A concise snapshot (broad by design).",
      productsSectionTools: "Physical and Operational Tools",
      productsSectionApps: "Apps",
      productsSectionProductions: "Productions",

      p1Title: "Clarity",
      p1Body: "Simple positioning, clean execution, minimal maintenance.",
      p2Title: "Durability",
      p2Body: "Fewer moving parts. Systems that keep working.",
      p3Title: "Leverage",
      p3Body: "Repeatable processes and compounding improvements.",

      f1Title: "Brand & product incubation",
      f1Body: "From concept to early validation and launch readiness.",
      f2Title: "Digital tools and internal systems",
      f2Body: "Automation, operations tooling, and lightweight software.",
      f3Title: "Operations, logistics, and process design",
      f3Body: "Reducing friction and increasing reliability.",
      f4Title: "Research & development",
      f4Body: "Iterating and testing ideas for consumer applications.",

      legalNameLabel: "Legal name:",
      jurisdictionLabel: "Jurisdiction:",
      statusLabel: "Status:",
      copy: "Copy",
      copied: "Copied",
      copyFailed: "Copy failed",
      call: "Call",
      whatsapp: "WhatsApp",
      close: "Close",

      // Catalog translations
      catalog: {
        products: {
          workmateName: "Workmate â€” Professional Edition",
          workmateDesc: "Time tracking + invoicing workbook (Excel).",
          enzydrainName: "Enzydrain",
          enzydrainDesc: "Enzymatic drain maintenance tablets.",
          printsName: "3D Print Personalised Gifts/Products",
          printsDesc: "Customâ€‘printed gifts, prototypes, and smallâ€‘batch items."
        },
        apps: {
          todayName: "TODAY â€” Minimalistâ€™s Diary",
          todayDesc: "Minimalist daily journaling app.",
          yadaName: "YADA â€” Know Deeply",
          yadaDesc: "One biblical insight a day that goes a long way."
        },
        productions: {
          bookName: "Certainty in Uncertainty: Preparing for Jesus' Return in These Last Days",
          bookDesc: "An examination of biblical prophecy and present global realities, equipping the Church to understand the times and prepare faithfully for Christâ€™s returnâ€”sooner rather than later.",
          AIName: "Using AI to Build Business from Scratch",
          AIDesc: "Step by step guide on how to use AI to build your dream business from scratch"
        },
        services: {
          appdevName: "iOS & Android app development",
          appdevDesc: "Flutter apps, store setup, deployment support.",
          automationName: "Process automation (Excel & Python)",
          automationDesc: "Excel VBA, Python scripts, workflow automation.",
          accountingName: "Accounting services",
          accountingDesc: "Setup, cleanup, reporting, and finance ops support.",
          AIconsultName: "Consultancy on AI Business Building",
          AIconsultDesc: "1:1 consulting to build and launch an AI-enabled business: offer, pricing, go-to-market, and automation",
          custom3dName: "Custom 3D Print",
          custom3dDesc: "Designâ€‘toâ€‘print service for prototypes, functional parts, and smallâ€‘batch production."
        }
      }
    },

    // Simplified Chinese (zh-Hans) â€” SG/CN
    zhHans: {
      locale: "åœ°åŒº",
      about: "å…³äºæˆ‘ä»¬",
      products: "äº§å“",
      services: "æœåŠ¡",
      home: "ä¸»é¡µ",
      view: "æŸ¥çœ‹",
      get: "è·å–",
      viewService: "æŸ¥çœ‹æœåŠ¡",
      requestQuote: "ç´¢å–æŠ¥ä»·",
      notes: "å¤‡æ³¨",
      servicesNotes: "å¦‚éœ€å®šåˆ¶èŒƒå›´ï¼Œè¯·åœ¨æœåŠ¡é¡µé¢æäº¤æŠ¥ä»·è¯·æ±‚ã€‚",
      homeSub: "ä½è°ƒæ‰“é€ å®ç”¨é¡¹ç›®ã€‚<br/>æä¾›å®ç”¨äº§å“ä¸æ•°ç è§£å†³æ–¹æ¡ˆï¼Œè®©ç”Ÿæ´»æ›´ç®€å•ã€‚",
      homeBlurb: "æˆ‘ä»¬æ‰“é€ å®ç”¨äº§å“ã€è½»é‡è½¯ä»¶ä¸è¿è¥å·¥å…·ï¼Œå‡å°‘æ‘©æ“¦ï¼Œå¹¶é•¿æœŸç¨³å®šè¿è¡Œã€‚",
      aboutTitle: "å…³äºæˆ‘ä»¬",
      aboutBody: "Ezion ç ”å‘å¹¶è¿è¥æ¶ˆè´¹äº§å“ã€æ•°å­—å·¥å…·ä¸è¿è¥ç³»ç»Ÿã€‚<br/><br/>å°å›¢é˜Ÿä¸ä»£è¡¨ä½æ•ˆç‡ï¼Œè€Œæ˜¯æ›´æ¸…æ™°ã€‚æˆ‘ä»¬åå¥½ç®€å•ã€å¯é ã€å½±å“æ·±è¿œçš„äº§å“ã€‚",
      principles: "åŸåˆ™",
      contact: "è”ç³»",
      contactSub: "ä¸€èˆ¬å’¨è¯¢",
      company: "å…¬å¸",
      focus: "æ–¹å‘",
      focusSub: "ç®€è¦æ¦‚è§ˆï¼ˆåˆ»æ„ä¿æŒå®½æ³›ï¼‰ã€‚",
      productsSectionTools: "å®ä½“ä¸è¿è¥å·¥å…·",
      productsSectionApps: "åº”ç”¨",
      productsSectionProductions: "ä½œå“",

      p1Title: "æ¸…æ™°",
      p1Body: "å®šä½ç®€å•ï¼Œæ‰§è¡Œå¹²å‡€ï¼Œç»´æŠ¤æœ€å°‘ã€‚",
      p2Title: "è€ç”¨",
      p2Body: "æ›´å°‘çš„å¯å˜å› ç´ ã€‚ç³»ç»Ÿé•¿æœŸç¨³å®šè¿è¡Œã€‚",
      p3Title: "æ æ†",
      p3Body: "å¯å¤ç”¨æµç¨‹ä¸æŒç»­å¤åˆ©å¼ä¼˜åŒ–ã€‚",

      f1Title: "å“ç‰Œä¸äº§å“å­µåŒ–",
      f1Body: "ä»æ¦‚å¿µåˆ°æ—©æœŸéªŒè¯ä¸å‘å¸ƒå‡†å¤‡ã€‚",
      f2Title: "æ•°å­—å·¥å…·ä¸å†…éƒ¨ç³»ç»Ÿ",
      f2Body: "è‡ªåŠ¨åŒ–ã€è¿è¥å·¥å…·ä¸è½»é‡è½¯ä»¶ã€‚",
      f3Title: "è¿è¥ã€ç‰©æµä¸æµç¨‹è®¾è®¡",
      f3Body: "å‡å°‘æ‘©æ“¦ï¼Œæå‡å¯é æ€§ã€‚",
      f4Title: "ç ”ç©¶ä¸å¼€å‘",
      f4Body: "è¿­ä»£ä¸æµ‹è¯•é¢å‘ç”¨æˆ·çš„åº”ç”¨æƒ³æ³•ã€‚",

      legalNameLabel: "æ³•å®šåç§°ï¼š",
      jurisdictionLabel: "å¸æ³•è¾–åŒºï¼š",
      statusLabel: "çŠ¶æ€ï¼š",
      copy: "å¤åˆ¶",
      copied: "å·²å¤åˆ¶",
      copyFailed: "å¤åˆ¶å¤±è´¥",
      call: "è‡´ç”µ",
      whatsapp: "WhatsApp",
      close: "å…³é—­",

      catalog: {
        products: {
          workmateName: "Workmate â€” ä¸“ä¸šç‰ˆ",
          workmateDesc: "æ—¶é—´è®°å½• + å¼€ç¥¨å·¥ä½œç°¿ï¼ˆExcelï¼‰ã€‚",
          enzydrainName: "Enzydrain",
          enzydrainDesc: "é…¶è§£å‹ä¸‹æ°´é“å…»æŠ¤æ¸…æ´ç‰‡ã€‚",
          printsName: "3D æ‰“å°ä¸ªæ€§åŒ–ç¤¼å“/äº§å“",
          printsDesc: "å®šåˆ¶æ‰“å°ç¤¼å“ã€åŸå‹å’Œå°æ‰¹é‡äº§å“ã€‚"
        },
        apps: {
          todayName: "TODAY â€” æç®€æ—¥è®°",
          todayDesc: "æç®€æ¯æ—¥è®°å½•åº”ç”¨ã€‚",
          yadaName: "YADA â€” æ·±å…¥è®¤è¯†",
          yadaDesc: "æ¯æ—¥ä¸€åˆ™åœ£ç»æ´è§ï¼Œç®€å•å´æ·±è¿œã€‚"
        },
        productions: {
          bookName: "åœ¨ä¸ç¡®å®šä¸­å¾—ç¡®å®šï¼šåœ¨æœ«åçš„æ—¥å­é¢„å¤‡è¿æ¥è€¶ç¨£å†æ¥",
          bookDesc: "ä»åœ£ç»é¢„è¨€ä¸å½“ä»£ç°å®å‡ºå‘ï¼Œå¸®åŠ©æ•™ä¼šåˆ†è¾¨æ—¶ä»£ã€å¿ å¿ƒé¢„å¤‡è¿æ¥åŸºç£å†æ¥â€”â€”æ¯”ä½ æƒ³è±¡çš„æ›´è¿‘ã€‚",
          AIName: "ä½¿ç”¨ AI ä»é›¶å¼€å§‹æ‰“é€ æ–°ä¸šåŠ¡",
          AIDesc: "ä¸€æ­¥ä¸€æ­¥æŒ‡å¯¼ä½ å¦‚ä½•åˆ©ç”¨ AI ä»é›¶å¼€å§‹å»ºç«‹å±äºè‡ªå·±çš„ç†æƒ³ä¸šåŠ¡"
        },
        services: {
          appdevName: "iOS ä¸ Android åº”ç”¨å¼€å‘",
          appdevDesc: "Flutter åº”ç”¨ã€å•†åº—ä¸Šæ¶é…ç½®ä¸å‘å¸ƒæ”¯æŒã€‚",
          automationName: "æµç¨‹è‡ªåŠ¨åŒ–ï¼ˆExcel ä¸ Pythonï¼‰",
          automationDesc: "Excel VBAã€Python è„šæœ¬ä¸å·¥ä½œæµè‡ªåŠ¨åŒ–ã€‚",
          accountingName: "ä¼šè®¡æœåŠ¡",
          accountingDesc: "æ­å»ºã€æ¸…ç†ã€æŠ¥è¡¨ä¸è´¢åŠ¡è¿è¥æ”¯æŒã€‚",
          AIconsultName: "AI å•†ä¸šæ„å»ºå’¨è¯¢",
          AIconsultDesc: "ä¸€å¯¹ä¸€å’¨è¯¢ï¼ŒååŠ©ä½ æ‰“é€ å¹¶å¯åŠ¨ AI é©±åŠ¨çš„ä¸šåŠ¡ï¼šäº§å“å®šä½ã€å®šä»·ã€å¸‚åœºè¿›å…¥ç­–ç•¥åŠè‡ªåŠ¨åŒ–ä½“ç³»ã€‚",
          custom3dName: "å®šåˆ¶ 3D æ‰“å°",
          custom3dDesc: "ä»è®¾è®¡åˆ°æ‰“å°çš„æœåŠ¡ï¼Œé€‚ç”¨äºåŸå‹ã€åŠŸèƒ½éƒ¨ä»¶å’Œå°æ‰¹é‡ç”Ÿäº§ã€‚"
        }
      }
    },

    // Traditional Chinese (zh-Hant) â€” HK
    zhHant: {
      locale: "åœ°å€",
      about: "é—œæ–¼æˆ‘å€‘",
      products: "ç”¢å“",
      services: "æœå‹™",
      home: "ä¸»é ",
      view: "æŸ¥çœ‹",
      get: "ç²å–",
      viewService: "æŸ¥çœ‹æœå‹™",
      requestQuote: "ç´¢å–å ±åƒ¹",
      notes: "å‚™è¨»",
      servicesNotes: "å¦‚éœ€è‡ªè¨‚ç¯„åœï¼Œè«‹æ–¼æœå‹™é é¢æå‡ºå ±åƒ¹è¦æ±‚ã€‚",
      homeSub: "ä½èª¿æ‰“é€ å¯¦ç”¨é …ç›®ã€‚<br/>æä¾›å¯¦ç”¨ç”¢å“èˆ‡æ•¸ç¢¼è§£æ±ºæ–¹æ¡ˆï¼Œä»¤ç”Ÿæ´»æ›´ç°¡å–®ã€‚",
      homeBlurb: "æˆ‘å€‘æ‰“é€ å¯¦ç”¨ç”¢å“ã€è¼•é‡è»Ÿä»¶èˆ‡ç‡Ÿé‹å·¥å…·ï¼Œæ¸›å°‘æ‘©æ“¦ï¼Œä¸¦é•·æœŸç©©å®šé‹è¡Œã€‚",
      aboutTitle: "é—œæ–¼æˆ‘å€‘",
      aboutBody: "Ezion ç ”ç™¼ä¸¦ç‡Ÿé‹æ¶ˆè²»ç”¢å“ã€æ•¸ç¢¼å·¥å…·èˆ‡ç‡Ÿé‹ç³»çµ±ã€‚<br/><br/>å°åœ˜éšŠä¸ä»£è¡¨æ›´å°‘ï¼Œè€Œæ˜¯æ›´æ¸…æ™°ã€‚æˆ‘å€‘åå¥½ç°¡å–®ã€å¯é ã€å½±éŸ¿æ·±é çš„ç”¢å“ã€‚",
      principles: "åŸå‰‡",
      contact: "è¯çµ¡",
      contactSub: "ä¸€èˆ¬æŸ¥è©¢",
      company: "å…¬å¸",
      focus: "æ–¹å‘",
      focusSub: "ç°¡è¦æ¦‚è¦½ï¼ˆåˆ»æ„ä¿æŒå¯¬æ³›ï¼‰ã€‚",
      productsSectionTools: "å¯¦é«”èˆ‡ç‡Ÿé‹å·¥å…·",
      productsSectionApps: "æ‡‰ç”¨ç¨‹å¼",
      productsSectionProductions: "ä½œå“",

      p1Title: "æ¸…æ™°",
      p1Body: "å®šä½ç°¡å–®ï¼ŒåŸ·è¡Œä¹¾æ·¨ï¼Œç¶­è­·æœ€å°‘ã€‚",
      p2Title: "è€ç”¨",
      p2Body: "æ›´å°‘çš„å¯è®Šå› ç´ ã€‚ç³»çµ±é•·æœŸç©©å®šé‹ä½œã€‚",
      p3Title: "æ§“æ¡¿",
      p3Body: "å¯é‡è¤‡æµç¨‹èˆ‡æŒçºŒè¤‡åˆ©å¼æ”¹é€²ã€‚",

      f1Title: "å“ç‰Œèˆ‡ç”¢å“å­µåŒ–",
      f1Body: "ç”±æ¦‚å¿µåˆ°æ—©æœŸé©—è­‰èˆ‡æ¨å‡ºæº–å‚™ã€‚",
      f2Title: "æ•¸ç¢¼å·¥å…·èˆ‡å…§éƒ¨ç³»çµ±",
      f2Body: "è‡ªå‹•åŒ–ã€ç‡Ÿé‹å·¥å…·èˆ‡è¼•é‡è»Ÿä»¶ã€‚",
      f3Title: "ç‡Ÿé‹ã€ç‰©æµèˆ‡æµç¨‹è¨­è¨ˆ",
      f3Body: "æ¸›å°‘æ‘©æ“¦ï¼Œæå‡å¯é æ€§ã€‚",
      f4Title: "ç ”ç©¶èˆ‡é–‹ç™¼",
      f4Body: "è¿­ä»£èˆ‡æ¸¬è©¦é¢å‘ç”¨æˆ¶çš„æ‡‰ç”¨æƒ³æ³•ã€‚",

      legalNameLabel: "æ³•å®šåç¨±ï¼š",
      jurisdictionLabel: "å¸æ³•ç®¡è½„å€ï¼š",
      statusLabel: "ç‹€æ…‹ï¼š",
      copy: "è¤‡è£½",
      copied: "å·²è¤‡è£½",
      copyFailed: "è¤‡è£½å¤±æ•—",
      call: "è‡´é›»",
      whatsapp: "WhatsApp",
      close: "é—œé–‰",

      catalog: {
        products: {
          workmateName: "Workmate â€” å°ˆæ¥­ç‰ˆ",
          workmateDesc: "æ™‚é–“è¨˜éŒ„ + é–‹ç¥¨å·¥ä½œç°¿ï¼ˆExcelï¼‰ã€‚",
          enzydrainName: "Enzydrain",
          enzydrainDesc: "é…µç´ å‹å»æ°´æ¸ ä¿é¤Šæ¸…æ½”ç‰‡ã€‚",
          printsName: "3D æ‰“å°å€‹äººåŒ–ç¦®å“/ç”¢å“",
          printsDesc: "å®šåˆ¶æ‰“å°ç¦®å“ã€åŸå‹åŠå°æ‰¹é‡ç”¢å“ã€‚"
        },
        apps: {
          todayName: "TODAY â€” æ¥µç°¡æ—¥è¨˜",
          todayDesc: "æ¥µç°¡æ¯æ—¥è¨˜éŒ„æ‡‰ç”¨ç¨‹å¼ã€‚",
          yadaName: "YADA â€” æ·±å…¥èªè­˜",
          yadaDesc: "æ¯æ—¥ä¸€å‰‡è–ç¶“æ´è¦‹ï¼Œç°¡å–®å»æ·±é ã€‚"
        },
        productions: {
          bookName: "åœ¨ä¸ç¢ºå®šä¸­å¾—ç¢ºå®šï¼šåœ¨æœ«å¾Œçš„æ—¥å­é å‚™è¿æ¥è€¶ç©Œå†ä¾†",
          bookDesc: "ç”±è–ç¶“é è¨€èˆ‡ç•¶ä»£ç¾å¯¦å‡ºç™¼ï¼Œå¹«åŠ©æ•™æœƒåˆ†è¾¨æ™‚ä»£ã€å¿ å¿ƒé å‚™è¿æ¥åŸºç£å†ä¾†â€”â€”æ¯”ä½ æƒ³åƒçš„æ›´è¿‘ã€‚",
          AIName: "ä½¿ç”¨ AI å¾é›¶é–‹å§‹æ‰“é€ æ–°å…¬å¸",
          AIDesc: "ä¸€æ­¥ä¸€æ­¥æŒ‡å°ä½ å¦‚ä½•åˆ©ç”¨ AI å¾é›¶é–‹å§‹å»ºç«‹å±¬æ–¼è‡ªå·±çš„ç†æƒ³å…¬å¸"
        },
        services: {
          appdevName: "iOS èˆ‡ Android æ‡‰ç”¨é–‹ç™¼",
          appdevDesc: "Flutter æ‡‰ç”¨ã€å•†åº—ä¸Šæ¶è¨­å®šèˆ‡ç™¼ä½ˆæ”¯æ´ã€‚",
          automationName: "æµç¨‹è‡ªå‹•åŒ–ï¼ˆExcel èˆ‡ Pythonï¼‰",
          automationDesc: "Excel VBAã€Python è…³æœ¬èˆ‡å·¥ä½œæµç¨‹è‡ªå‹•åŒ–ã€‚",
          accountingName: "æœƒè¨ˆæœå‹™",
          accountingDesc: "å»ºç«‹ã€æ•´ç†ã€å ±è¡¨èˆ‡è²¡å‹™ç‡Ÿé‹æ”¯æ´ã€‚",
          AIconsultName: "AI å•†æ¥­å»ºæ§‹é¡§å•æœå‹™",
          AIconsultDesc: "ä¸€å°ä¸€é¡§å•è«®è©¢ï¼Œå”åŠ©ä½ å»ºç«‹ä¸¦å•Ÿå‹• AI é©…å‹•çš„æ¥­å‹™ï¼šç”¢å“å®šä½ã€å®šåƒ¹ã€å¸‚å ´é€²å…¥ç­–ç•¥åŠè‡ªå‹•åŒ–ç³»çµ±ã€‚",
          custom3dName: "å®šåˆ¶ 3D æ‰“å°",
          custom3dDesc: "å¾è¨­è¨ˆåˆ°æ‰“å°çš„æœå‹™ï¼Œé©ç”¨æ–¼åŸå‹ã€åŠŸèƒ½éƒ¨ä»¶åŠå°æ‰¹é‡ç”Ÿç”¢ã€‚"
        }
      }
    }
  };

    function getTextPack(ctx){
      if (ctx && ctx.key === "hk-zh") return I18N.zhHant;
      if (ctx && ctx.lang === "zh") return I18N.zhHans; // sg-zh + cn-zh
      return I18N.en;
    }
    
    function setText(id, value, asHtml=false){
      const el = document.getElementById(id);
      if (!el) return;
      if (asHtml) el.innerHTML = value;
      else el.textContent = value;
    }
    
    function applyText(ctx){
      const t = getTextPack(ctx);
    
      setText("openInfo", t.about);
      setText("btnProducts", t.products);
      setText("btnServices", t.services);
    
      setText("productsTitle", t.products);
      setText("servicesTitle", t.services);
    
      setText("servicesNotesTitle", t.notes);
      setText("servicesNotesText", t.servicesNotes);
    
      setText("homeSub", t.homeSub, true);
      setText("homeBlurb", t.homeBlurb);
    
      setText("aboutTitle", t.aboutTitle);
      setText("aboutBody", t.aboutBody, true);
      setText("aboutPrinciplesTitle", t.principles);
    
      setText("contactTitle", t.contact);
      setText("contactSub", t.contactSub);
      setText("companyTitle", t.company);
    
      setText("focusTitle", t.focus);
      setText("focusSub", t.focusSub);
    
      setText("productsSectionTools", t.productsSectionTools);
      setText("productsSectionApps", t.productsSectionApps);
      setText("productsSectionProductions", t.productsSectionProductions);
    
      setText("p1Title", t.p1Title); setText("p1Body", t.p1Body);
      setText("p2Title", t.p2Title); setText("p2Body", t.p2Body);
      setText("p3Title", t.p3Title); setText("p3Body", t.p3Body);
    
      setText("f1Title", t.f1Title); setText("f1Body", t.f1Body);
      setText("f2Title", t.f2Title); setText("f2Body", t.f2Body);
      setText("f3Title", t.f3Title); setText("f3Body", t.f3Body);
      setText("f4Title", t.f4Title); setText("f4Body", t.f4Body);
    
      setText("companyLegalLabel", t.legalNameLabel);
      setText("companyJurisdictionLabel", t.jurisdictionLabel);
      setText("companyStatusLabel", t.statusLabel);
    
      setText("closeInfo", t.close);

      setText("topHomeText", t.home);
    
      const copyBtn = document.getElementById("copyBtn");
      if (copyBtn) copyBtn.textContent = t.copy;
    
      document.querySelectorAll("[data-phone]").forEach(a => { a.textContent = t.call; });
      document.querySelectorAll("[data-whatsapp]").forEach(a => { a.textContent = t.whatsapp; });
    }

  // -----------------------------
  // About panel open/close
  // -----------------------------
  const panel = document.getElementById("panel");
  const openInfo = document.getElementById("openInfo");
  const closeInfo = document.getElementById("closeInfo");
  const backdrop = document.getElementById("backdrop");

  const sheet = panel ? panel.querySelector(".sheet") : null;
  let lastFocusedEl = null;

  function getFocusable(root){
    if (!root) return [];
    return Array.from(root.querySelectorAll(
      'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'
    )).filter(el => {
      // basic visibility check
      const style = window.getComputedStyle(el);
      return style.display !== "none" && style.visibility !== "hidden";
    });
  }

  function openPanel(){
    lastFocusedEl = document.activeElement;

    panel.classList.add("open");
    panel.setAttribute("aria-hidden", "false");
    openInfo && openInfo.setAttribute("aria-expanded", "true");

    document.body.style.overflow = "hidden";

    const focusables = getFocusable(sheet || panel);
    const target = focusables.find(el => el.id === "closeInfo") || focusables[0];
    setTimeout(() => target && target.focus(), 0);
  }

  function closePanel(){
    panel.classList.remove("open");
    panel.setAttribute("aria-hidden", "true");
    openInfo && openInfo.setAttribute("aria-expanded", "false");

    document.body.style.overflow = "";

    if (lastFocusedEl && typeof lastFocusedEl.focus === "function") {
      setTimeout(() => lastFocusedEl.focus(), 0);
    }
  }

  // Focus trap (Tab/Shift+Tab) while dialog is open
  panel && panel.addEventListener("keydown", (e) => {
    if (e.key !== "Tab" || !panel.classList.contains("open")) return;

    const focusables = getFocusable(sheet || panel);
    if (!focusables.length) return;

    const first = focusables[0];
    const last = focusables[focusables.length - 1];
    const active = document.activeElement;

    if (e.shiftKey && active === first) {
      e.preventDefault();
      last.focus();
    } else if (!e.shiftKey && active === last) {
      e.preventDefault();
      first.focus();
    }
  });

  openInfo.addEventListener("click", openPanel);
  closeInfo.addEventListener("click", closePanel);
  backdrop.addEventListener("click", closePanel);
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && panel.classList.contains("open")) closePanel();
  });

  // -----------------------------
  // Copy + toast (localized)
  // -----------------------------
  const toast = document.getElementById("toast");
  let toastTimer;
  function showToast(msg){
    toast.textContent = msg;
    toast.classList.add("show");
    clearTimeout(toastTimer);
    toastTimer = setTimeout(() => toast.classList.remove("show"), 1200);
  }
  document.addEventListener("click", async (e) => {
    const btn = e.target.closest("[data-copy]");
    if (!btn) return;
    const text = btn.getAttribute("data-copy");
    const t = getTextPack(EzionLocale.getContext());
    try { await navigator.clipboard.writeText(text); showToast(t.copied); }
    catch { showToast(t.copyFailed); }
  });

  document.getElementById("year").textContent = new Date().getFullYear();

  // -----------------------------
  // Router: #products / #services / home
  // -----------------------------
  const viewHome = document.getElementById("view-home");
  const viewProducts = document.getElementById("view-products");
  const viewServices = document.getElementById("view-services");

  function setView(name){
    const isProducts = name === "products";
    const isServices = name === "services";

    viewHome.classList.toggle("active", !(isProducts || isServices));
    viewProducts.classList.toggle("active", isProducts);
    viewServices.classList.toggle("active", isServices);

    if (panel.classList.contains("open")) closePanel();
    document.body.style.overflow = "";
  }
    
  function updateHomeButtonVisibility() {
    const homeBtn = document.getElementById("topHomeBtn");
    if (!homeBtn) return;
  
    const hash = (location.hash || "").replace("#", "").trim().toLowerCase();
  
    // Hide on home, show otherwise
    homeBtn.style.display = (hash === "" ? "none" : "inline-flex");
  }
    
  function onRoute(){
    const hash = (location.hash || "").replace("#", "").trim().toLowerCase();
    if (hash === "products") setView("products");
    else if (hash === "services") setView("services");
    else setView("home");
  
    updateHomeButtonVisibility();
  }
  window.addEventListener("hashchange", onRoute);

  function escapeHtml(s){
    return String(s)
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  // -----------------------------
  // Data (base in GBP; display localized)
  // -----------------------------
  const PRODUCTS = [
    { category:"products", key:"workmate", price:{ type:"fixed", amount:9.99, currency:"GBP" }, page:"products/workmate-pro.html" },
    { category:"products", key:"enzydrain", price:{ type:"fixed", amount:8.50, currency:"GBP" }, page:"products/enzydrain.html" },
    { category:"products", key:"prints", price:{ type:"from", amount:1.49, currency:"GBP" }, page:"products/prints.html", onlyCountries: ["UK"] },

    //{ category:"apps", key:"today", price:{ type:"from", amount:0.00, currency:"GBP" }, page:"products/today.html", priceDisplayOverride:"free_to_from" },//
    { category:"apps", key:"yada", price:{ type:"from", amount:1.79, currency:"GBP" }, page:"products/yada.html", priceDisplayOverride:"free_to_from" },

    { category:"productions", key:"book", price:{ type:"fixed", amount:14.99, currency:"GBP" }, page:"products/prepare.html" },
    { category:"productions", key:"course", price:{ type:"fixed", amount:10.99, currency:"GBP"}, page:"products/AI.html"}
  ];

  const SERVICES = [
    { key:"appdev", price:{ type:"from", amount:499, currency:"GBP" }, page:"services/appdev.html" },
    { key:"automation", price:{ type:"from", amount:199, currency:"GBP" }, page:"services/automation.html" },
    { key:"accounting", price:{ type:"from", amount:149, currency:"GBP" }, page:"services/accounting.html" },
    { key:"AIconsult", price:{ type:"from", amount:149, currency:"GBP" }, page:"services/AIconsult.html" },
    { key:"custom3d", price:{ type:"from", amount:50, currency:"GBP" }, page:"services/custom3d.html", onlyCountries: ["UK"] }
  ];

  // Visibility helper: show item only if allowed for current country
  function visibleToLocale(item, ctx) {
    if (!item.onlyCountries) return true;
    return item.onlyCountries.includes(ctx.country);
  }

  const productsGridProducts = document.getElementById("productsGridProducts");
  const productsGridApps = document.getElementById("productsGridApps");
  const productsGridProductions = document.getElementById("productsGridProductions");
  const servicesGrid = document.getElementById("servicesGrid");

  function productCard(p, ctx, t){
    const c = t.catalog;
    const name =
      p.category === "products" && p.key === "workmate" ? c.products.workmateName :
      p.category === "products" && p.key === "enzydrain" ? c.products.enzydrainName :
      p.category === "products" && p.key === "prints" ? c.products.printsName :
      p.category === "apps" && p.key === "today" ? c.apps.todayName :
      p.category === "apps" && p.key === "yada" ? c.apps.yadaName :
      p.category === "productions" && p.key === "book" ? c.productions.bookName :
      p.category === "productions" && p.key === "course" ? c.productions.AIName :
      "";

    const desc =
      p.category === "products" && p.key === "workmate" ? c.products.workmateDesc :
      p.category === "products" && p.key === "enzydrain" ? c.products.enzydrainDesc :
      p.category === "products" && p.key === "prints" ? c.products.printsDesc :
      p.category === "apps" && p.key === "today" ? c.apps.todayDesc :
      p.category === "apps" && p.key === "yada" ? c.apps.yadaDesc :
      p.category === "productions" && p.key === "book" ? c.productions.bookDesc :
      p.category === "productions" && p.key === "course" ? c.productions.AIDesc :
      "";

    let priceText = EzionLocale.formatPrice(p.price, ctx);

    if (p.priceDisplayOverride === "free_to_from") {
      const isZh = (ctx.key === "hk-zh" || ctx.lang === "zh");
      const freeText = isZh ? (ctx.key === "hk-zh" ? "å…è²»" : "å…è´¹") : "FREE";
      const fromLabel = isZh ? "èµ·" : "From";
      const fromVal = EzionLocale.money(
        EzionLocale.convertAmount(0.99, "GBP", ctx.currency),
        ctx.currency,
        ctx.numberLocale
      );
      priceText = `${freeText} â€“ ${fromVal} ${fromLabel}`;
    }

    return `
      <div class="product">
        <div class="name">${escapeHtml(name)}</div>
        <div class="desc">${escapeHtml(desc)}</div>

        <div class="meta">
          <div>${escapeHtml(priceText)}</div>
        </div>

        <div class="btnRow">
          <a class="btn" href="${p.page}">${escapeHtml(t.view)}</a>
          <a class="btn secondary" href="${p.page}#buy">${escapeHtml(t.get)}</a>
        </div>
      </div>
    `;
  }

  function serviceCard(s, ctx, t){
    const c = t.catalog.services;
    const name =
      s.key === "appdev" ? c.appdevName :
      s.key === "automation" ? c.automationName :
      s.key === "accounting" ? c.accountingName : 
      s.key === "AIconsult" ? c.AIconsultName :
      s.key === "custom3d" ? c.custom3dName : "";

    const desc =
      s.key === "appdev" ? c.appdevDesc :
      s.key === "automation" ? c.automationDesc :
      s.key === "accounting" ? c.accountingDesc : 
      s.key === "AIconsult" ? c.AIconsultDesc :
      s.key === "custom3d" ? c.custom3dDesc : "";

    const priceText = EzionLocale.formatPrice(s.price, ctx);

    return `
      <div class="product">
        <div class="name">${escapeHtml(name)}</div>
        <div class="desc">${escapeHtml(desc)}</div>

        <div class="meta">
          <div>${escapeHtml(priceText)}</div>
        </div>

        <div class="btnRow">
          <a class="btn" href="${s.page}">${escapeHtml(t.viewService)}</a>
          <a class="btn secondary" href="${s.page}#quote">${escapeHtml(t.requestQuote)}</a>
        </div>
      </div>
    `;
  }

  function renderAll(ctx){
    const localeInfo = ctx || EzionLocale.getContext();
    const t = getTextPack(localeInfo);

    applyText(localeInfo);

    document.title = EzionLocale.brandName(localeInfo);

    const byCat = (cat) => PRODUCTS
      .filter(p => p.category === cat && visibleToLocale(p, localeInfo))
      .map(p => productCard(p, localeInfo, t))
      .join("");

    productsGridProducts.innerHTML = byCat("products");
    productsGridApps.innerHTML = byCat("apps");
    productsGridProductions.innerHTML = byCat("productions");

    servicesGrid.innerHTML = SERVICES
      .filter(s => visibleToLocale(s, localeInfo))
      .map(s => serviceCard(s, localeInfo, t))
      .join("");

    EzionLocale.applyContactTargets();
    EzionLocale.applyCompanyInfo();
  }

  EzionLocale.init({
    onReady(ctx){
      renderAll(ctx);
      onRoute();
      updateHomeButtonVisibility();
    },
    onChange(ctx){
      renderAll(ctx);
    }
  });
</script>
</body>
</html>
